{"version":3,"sources":["Helpers/auth.js","Components/Auth/SignIn/SignIn.js","Components/Common/MessagePopup.js","Components/Chat/Sidebar/SideBar.js","Helpers/date.js","Components/Chat/Chat.js","Components/Chat/MainChat/MainChat.js","Components/Settings/Settings.js","Components/MyImages/MyImages.js","App.js","reportWebVitals.js","index.js"],"names":["type","payload","a","localStorage","setItem","token","user","_id","getItem","data","axios","post","then","res","returnVal","catch","err","SignIn","props","handleInput","e","setState","target","className","value","setTab","tab","signUp","config","email","state","registerEmail","password","registerPassword","firstName","lastName","signIn","signInEmail","signInPassword","success","error","message","auth","defaults","headers","common","setTimeout","history","push","this","style","height","marginTop","color","fontWeight","onChange","placeholder","onClick","React","Component","MessagePopup","hideScreen","document","getElementsByTagName","overflow","showScreen","theChild","undefined","model","position","top","bottom","left","right","zIndex","width","backgroundColor","display","alignItems","justifyContent","noBg","children","SideBar","setUserSearch","event","searchUser","length","users","userId","addConversation","myId","themId","fullName","modalMessage","emitNewConversation","showMessage","showModal","logout","clear","getName","filter","selectConvo","conv","setActiveChat","window","innerWidth","$","hide","show","searchInput","id","to","src","avatar","url","conversations","map","con","idx","Object","keys","activeChat","themUser","active","fontSize","names","messages","slice","startTime","date","i","today","Date","h","getHours","m","getMinutes","socket","MainChat","sendMessage","_reactName","code","inputVal","sentFromId","chatId","computeOffsetBottom","anchorRef","current","getBoundingClientRect","offset","Math","floor","innerHeight","showSidebar","createRef","handleScroll","throttle","addEventListener","cancel","removeEventListener","backgroundPosition","backgroundSize","backgroundRepeat","backgroundImage","chatBg","createdAt","ref","onKeyUp","Chat","_isMounted","getUser","getConversations","newActiveChat","find","el","getElementById","scrollTop","scrollHeight","chat","userIds","emit","showPopup","JSON","parse","stringify","slideDown","slideUp","socketClient","on","console","info","socketId","fileTypes","Settings","handleFileInputChange","file","files","includes","previewFile","size","reader","FileReader","readAsDataURL","onloadend","result","handleSubmitFile","preventDefault","isUploading","previewSource","fileInput","setUser","previewSourceBg","fileInputBg","padding","borderRadius","border","margin","objectFit","MyImages","setUserAvatar","log","selectedImg","publicId","addAvatarPopup","addBgImagePopup","removeImage","deletePopup","ht","images","image","cursor","textAlign","dangerouslySetInnerHTML","__html","App","exact","path","component","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","baseURL","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.4999de53.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default async function (type, payload) {\n    switch (type) {\n        case 'AUTH':\n            localStorage.setItem('JWT_PAYLOAD', payload.token);\n            localStorage.setItem('_ID', payload.user._id);\n            break;\n        case 'STATUS':\n            return await localStorage.getItem('JWT_PAYLOAD') ? true : false;\n        case 'GET_USER':\n            let jwt = localStorage.getItem('JWT_PAYLOAD');\n            if (!jwt) {\n                return false;\n            }\n            let data = localStorage.getItem('_ID') ? localStorage.getItem('_ID') : false;\n            let returnVal;\n            if (data) {\n                await axios.post('/api/users/get-user', {_id: data}).then(res => {\n                    returnVal = res.data.payload;\n                })\n                    .catch(err => {\n                        returnVal = false;\n                    })\n            }\n            return returnVal;\n            break;\n        case 'GET_USER_ID':\n            return localStorage.getItem('_ID') ? localStorage.getItem('_ID') : '';\n    }\n}","import React from 'react';\nimport axios from 'axios';\nimport auth from '../../../Helpers/auth';\nimport './SignIn.css';\n\nexport default class SignIn extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tab: 'sign-in',\n            firstName: '',\n            lastName: '',\n            signInEmail: '',\n            signInPassword: '',\n            registerEmail: '',\n            registerPassword: '',\n            error: ''\n        }\n    }\n\n    componentDidMount() {\n        auth('STATUS').then(res => {\n            if(res) {\n                this.props.history.push('/chat');\n            }\n        })\n    };\n\n    handleInput = e => {\n        this.setState({\n            [e.target.className]: e.target.value\n        })\n    }\n\n    setTab = tab => {\n        this.setState({\n            tab\n        })\n    }\n\n    signUp = () => {\n        let config = {\n            email: this.state.registerEmail,\n            password: this.state.registerPassword,\n            firstName: this.state.firstName,\n            lastName: this.state.lastName\n        }\n        axios.post('/api/users/register', config).then(res => {\n            this.setState({\n                tab: 'sign-in'\n            })\n        });\n    }\n\n    signIn = () => {\n        let config = {\n            email: this.state.signInEmail,\n            password: this.state.signInPassword\n        }\n        axios.post('/api/users/login', config).then(res => {\n            if (res.data.success != 'true') {\n                this.setState({\n                    error: res.data.message\n                })\n            }\n            if(res.data.user && res.data.token) {\n                auth('AUTH', res.data);\n                axios.defaults.headers.common['Authorization'] = localStorage.getItem('JWT_PAYLOAD');\n                setTimeout(() => {\n                    this.props.history.push('/chat');\n                }, 300);\n            }\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"sign-in-wrapper\">\n                {this.state.tab === 'sign-in' ? <div className=\"sign-in\">\n                    <div>Login</div>\n                    <div style={{height: '30px', marginTop: '6px', color: 'red', fontWeight: '200'}}>{this.state.error}</div>\n                    <div className=\"form\">\n\n                        <input type=\"text\" value={this.state.signInEmail} className=\"signInEmail\"\n                               onChange={(e) => this.handleInput(e)} placeholder=\"Type Your Email\"/>\n                        <input type=\"password\" value={this.state.signInPassword} className=\"signInPassword\"\n                               onChange={(e) => this.handleInput(e)} placeholder=\"Type your password\"/>\n                        <div onClick={() => this.setTab('sign-up')} className=\"no-account\">No account? Create one</div>\n                        <div className=\"button\" onClick={() => this.signIn()}>\n                            <button>Sign In</button>\n                        </div>\n                    </div>\n                </div> : <div className=\"sign-in\">\n                    <div>Sign up</div>\n                    <div className=\"form\">\n                        <input type=\"text\" value={this.state.firstName} className=\"firstName\"\n                               onChange={(e) => this.handleInput(e)} placeholder=\"Type Your First name\"/>\n                        <input type=\"text\" value={this.state.lastName} className=\"lastName\"\n                               onChange={(e) => this.handleInput(e)} placeholder=\"Type Your Last name\"/>\n                        <input type=\"text\" value={this.state.registerEmail} className=\"registerEmail\"\n                               onChange={(e) => this.handleInput(e)} placeholder=\"Type Your Email\"/>\n                        <input type=\"password\" value={this.state.registerPassword} className=\"registerPassword\"\n                               onChange={(e) => this.handleInput(e)} placeholder=\"Type your password\"/>\n                        <div onClick={() => this.setTab('sign-in')} className=\"no-account\">Already have an account?\n                        </div>\n                        <div className=\"button\">\n                            <button onClick={() => this.signUp()}>Sign Up</button>\n                        </div>\n                    </div>\n                </div>}\n            </div>\n        )\n    }\n}","import React from 'react';\nimport './MessagePopup.css';\n\nexport default class MessagePopup extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    hideScreen = () => {\n        document.getElementsByTagName('html')[0].style.overflow = 'hidden';\n    }\n\n    showScreen = () => {\n        document.getElementsByTagName('html')[0].style.overflow = 'auto';\n    }\n\n    render(){\n        let theChild = undefined;\n        if(this.props.model === true) {\n            this.hideScreen();\n        } else {\n            this.showScreen();\n        }\n\n        if(this.props.model) {\n            theChild =  <div style={{overflow: 'scoll', position: 'absolute', top: '0', bottom: '0', left: '0', right: '0', zIndex: this.props.zIndex ? this.props.zIndex : 20, width: '100vw', backgroundColor: this.props.backgroundColor ? this.props.backgroundColor : 'rgba(0, 0, 0, 0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n                <div style={{backgroundColor: this.props.noBg ? '' : 'white'}}>\n                    {this.props.children}\n                </div>\n            </div>\n        }\n        return (\n            <div>\n                    {theChild}\n            </div>\n            )\n    }\n}","import React, {Component} from 'react';\nimport auth from '../../../Helpers/auth';\nimport axios from 'axios';\nimport './SideBar.css';\nimport AddIcon from '@material-ui/icons/Add';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MessagePopup from \"../../Common/MessagePopup\";\nimport {NavLink as Route} from 'react-router-dom';\nimport $ from 'jQuery';\n\nexport default class SideBar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            searchInput: '',\n            searchUser: '',\n            users: [],\n            modalMessage: '',\n            showModal: false,\n            showMessage: false\n        };\n    }\n\n    setUserSearch = async event => {\n        await this.setState({\n            searchUser: event.target.value\n        })\n        if (event.target.value.length === 0) {\n            this.setState({\n                users: []\n            });\n            return;\n        }\n        await axios.post('/api/users/user-by-search', {\n            email: this.state.searchUser,\n            userId: localStorage.getItem('_ID')\n        }).then(res => {\n            this.setState({\n                users: res.data\n            })\n        })\n    }\n\n    addConversation = user => {\n        axios.post('/api/chat/new-chat', {myId: localStorage.getItem('_ID'), themId: user._id, fullName: this.props.user.firstName + ' ' + this.props.user.lastName}).then(res => {\n            this.setState({\n                modalMessage: res.data.message\n            })\n            this.props.emitNewConversation(user._id);\n            this.setState({showMessage: true});\n            setTimeout(() => {\n                this.setState({\n                    modalMessage: ''\n                })\n                this.setState({showMessage: false});\n            }, 2000);\n            setTimeout(() => {\n                this.setState({showModal: false});\n            }, 2500);\n        });\n    }\n\n    logout = () => {\n        localStorage.clear();\n        this.props.history.push('/');\n    }\n\n    getName = users => {\n        return users.filter(user => {\n            if (user !== this.props.user.firstName + ' ' + this.props.user.lastName) return user;\n        })[0]\n    }\n\n    selectConvo = conv => {\n        this.props.setActiveChat(conv);\n        if(window.innerWidth < 700) {\n            $('#side-bar-wrapper').hide();\n            $('#main-chat-wrapper').show();\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"sidebar-wrapper\" id=\"side-bar-wrapper\">\n                <AddIcon onClick={() => this.setState({showModal: true})} className=\"add-icon\"/>\n                <Route className=\"link\" to=\"/settings\">\n                    <SettingsIcon className=\"settings-icon\" />\n                </Route>\n                <Route onClick={() => localStorage.clear()} className=\"link\" to=\"/sign-in\"><div className=\"settings-icon logout\">Logout</div></Route>\n                <div className=\"user-wrapper\">\n                    <img src={this.props.user && this.props.user.avatar ? this.props.user.avatar.url : 'data:image/png;base64,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'} />\n                    <div>{this.props.user ? this.props.user.firstName + ' ' + this.props.user.lastName : 'No name'}</div>\n                    <div>{this.props.user ? this.props.user.email : 'No email'}</div>\n                </div>\n                <div className=\"search-input\">\n                    <input value={this.state.searchInput} onChange={(e) => this.setState({searchInput: e.target.value})}\n                           type=\"text\"/>\n                    <SearchIcon/>\n                </div>\n                <div className=\"conversations\">\n                    {this.props.conversations.map((con, idx) => (\n                        <div className={Object.keys(this.props.activeChat).length ? (this.props.activeChat._id === con._id ? 'conversation active-conversation' : 'conversation') : 'conversation'} key={idx} onClick={() => this.selectConvo(con)}>\n                            <div className=\"left\">\n                                <img src={con.themUser.avatar && con.themUser.avatar.url ? con.themUser.avatar.url : '\\data:image/png;base64,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'} />\n                            </div>\n                            <div className=\"right\">\n                                <div className=\"active-circle\" style={{backgroundColor: con.themUser.active ? '#29F90A' : '#ED3C3D'}}></div>\n                                <div style={{fontSize: '1em', fontWeight: 'bold'}}>{this.getName(con.names)}</div>\n                                <div style={{fontWeight: '300'}}>\n                                    {con.messages.length ? con.messages[con.messages.length - 1].message.length > 20 ? (con.messages[con.messages.length - 1].message.slice(0, 20)) + '...' : (con.messages[con.messages.length - 1].message) : 'Send a chat'}\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                <MessagePopup model={this.state.showModal}>\n                    <div className=\"modal-content\">\n                        <CloseIcon onClick={() => this.setState({showModal: false})} className=\"close-icon\"/>\n                        <div className=\"heade\">Create A New Chat</div>\n                        <div className=\"search-input\">\n                            <input value={this.state.searchUser} onChange={(e) => this.setUserSearch(e)} type=\"text\"\n                                   placeholder=\"Search By Email\"/>\n                            <SearchIcon className=\"search-icon\"/>\n                        </div>\n                        <div className=\"users\">\n                            {this.state.users.map((user, idx) => (\n                                <div className=\"user\" key={idx}>\n                                    <div>{user.firstName} {user.lastName}</div>\n                                    <div>{user.email}</div>\n                                    <AddIcon onClick={() => this.addConversation(user)} className=\"add\"/>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </MessagePopup>\n\n                <MessagePopup model={this.state.showMessage} zIndex='25' backgroundColor={'rgba(0, 0, 0, 0.5)'}>\n                    <div className=\"modal-message\">\n                        <div className=\"modal-message-content\">\n                            {this.state.modalMessage}\n                        </div>\n                    </div>\n                </MessagePopup>\n\n            </div>\n        )\n    }\n}","function checkTime(i) {\n    if (i < 10) {\n        i = \"0\" + i;\n    }\n    return i;\n}\n\nexport default function startTime(date) {\n    var today = new Date(date);\n    var h = today.getHours();\n    var m = today.getMinutes();\n\n    if(h < 10 && h !== 0) {\n        h = '0' + h;\n    } else if(h > 12) {\n        h = h - 12;\n    } else if(h === 0) {\n        h = 12;\n    }\n\n    m = checkTime(m);\n    return h + ':' + m\n}","import React from 'react';\nimport SideBar from \"./Sidebar/SideBar\";\nimport './Chat.css';\nimport auth from '../../Helpers/auth.js';\nimport socketClient from \"socket.io-client\";\nimport axios from \"axios\";\nimport MainChat from \"./MainChat/MainChat\";\nimport $ from 'jQuery';\n\nlet socket;\nlet socketUrl = 'https://calebjustice.com:9000';\n// let socketUrl = 'http://149.28.14.146:9000';\n\nexport default class Chat extends React.Component {\n\n    _isMounted = true;\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: null,\n            activeChat: {},\n            id: null,\n            conversations: []\n        }\n    }\n\n    getUser = () => {\n        auth('GET_USER').then(user => {\n            if(user) {\n                this.setState({user});\n            }\n        })\n    }\n\n    componentDidMount() {\n        let showPopup = true;\n        if (localStorage.getItem('LPU')) {\n            let now = new Date();\n            let old = new Date(JSON.parse(localStorage.getItem('LPU')));\n            let difference = (now - old) / 1000;\n            if (difference > 60) {\n                showPopup = true;\n                localStorage.setItem('LPU', JSON.stringify(new Date()));\n            } else {\n                showPopup = false;\n            }\n        } else {\n            localStorage.setItem('LPU', JSON.stringify(new Date()));\n        }\n\n        $('#message').hide();\n        if(showPopup) {\n            setTimeout(() => {\n                $('#message').slideDown(200);\n            }, 300);\n    \n            setTimeout(() => {\n                $('#message').slideUp(200);\n            }, 4500);\n        }\n\n        auth('GET_USER').then(user => {\n            this.getConversations();\n            if (!user) {\n                this.props.history.push('/sign-in');\n            } else {\n                socket = socketClient(socketUrl);\n                if (!socket) return;\n                socket.emit('connection', user);\n                socket.on('connection', () => {\n                    console.info('socket connection established on port 9000');\n                })\n                socket.on('conversation', () => {\n                    this.getConversations();\n                })\n                socket.on('incomingMessage', () => {\n                    this.getConversations();\n                });\n\n                this.setState({\n                    user\n                })\n            }\n        })\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n        if (!socket) return;\n        socket.emit('leave', this.state.user._id);\n    }\n\n    getConversations = () => {\n        auth('GET_USER').then(user => {\n            axios.post('/api/chat/get-chats', {user: user}).then(res => {\n                if(res.data.success == 'false') return;\n                else {\n                    if(this._isMounted) {\n                        let newActiveChat = Object.keys(this.state.activeChat).length ? res.data.find(conv => conv._id === this.state.activeChat._id) : {};\n                        this.setState({\n                            conversations: res.data,\n                            activeChat: newActiveChat\n                        })\n                        let el = document.getElementById('messages');\n                        if(el){\n                            el.scrollTop = el.scrollHeight;\n                        }\n                    }\n                }\n            })\n        })\n    }\n\n\n    setActiveChat = chat => {\n        this.setState({\n            activeChat: chat\n        })\n        this.getConversations();\n    }\n\n    sendMessage = chat => {\n        this.getConversations();\n        let themUser = chat.userIds.filter(id => id !== this.state.user._id)[0];\n        socket.emit('newMessage', chat._id, themUser);\n    }\n\n\n    emitNewConversation = (userId) => {\n        this.getConversations();\n        socket.emit('newConversation', userId);\n    }\n\n    render() {\n        let text = 'no user';\n        if(this.state.user) {\n            text = JSON.stringify(this.state.user.socketId) + this.state.user.active;\n        }\n        return (\n            <div className=\"chat-wrapper\" style={{overflow: 'hidden'}}>\n                <div id=\"message\">\n                    <div className=\"content\">\n                        <div>You will need to refresh if re-opening tab</div>\n                    </div>\n                </div>\n                <div className=\"sidebar\">\n                    <SideBar emitNewConversation={this.emitNewConversation} conversations={this.state.conversations} activeChat={this.state.activeChat} setActiveChat={this.setActiveChat} user={this.state.user}/>\n                </div>\n\n                <div className=\"chat\">\n                    {Object.keys(this.state.activeChat).length ? <MainChat user={this.state.user} sendMessage={this.sendMessage} activeChat={this.state.activeChat} /> : ''}\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport './MainChat.css';\nimport date from '../../../Helpers/date';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport $ from 'jQuery';\nimport throttle from 'lodash.throttle';\n\nexport default class MainChat extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            inputVal: ''\n        };\n        this.anchorRef = React.createRef();\n        this.handleScroll = throttle(this.computeOffsetBottom, 200);\n    }\n\n    sendMessage = (e) => {\n        if(e._reactName === 'onKeyUp' && e.code !== 'Enter') {\n            return;\n        }\n        if(!this.state.inputVal.length) return;\n        axios.post('/api/chat/add-message', {sentFromId: this.props.user._id, message: this.state.inputVal, chatId: this.props.activeChat._id}).then(res => {\n            if(res.data.success) {\n                this.props.sendMessage(this.props.activeChat);\n                this.setState({inputVal: ''})\n            }\n        })\n    }\n\n    componentDidMount() {\n        window.addEventListener('scroll', this.handleScroll);\n    }\n\n    componentWillUnmount() {\n        this.handleScroll.cancel();\n        window.removeEventListener('scroll', this.handleScroll);\n    }\n\n    computeOffsetBottom = () => {\n        if (!this.anchorRef.current) {\n            return;\n        }\n\n        const {bottom} = this.anchorRef.current.getBoundingClientRect();\n        const {offset} = this.props;\n        if (Math.floor(bottom) > window.innerHeight) {\n            this.setState({bottom: offset + 44});\n        } else {\n            this.setState({bottom: offset});\n        }\n    };\n\n    showSidebar = () => {\n        if(window.innerWidth > 700) return;\n        $('#side-bar-wrapper').show();\n        $('#main-chat-wrapper').hide();\n    }\n\n    render(){\n        return (\n            <div className=\"main-chat-wrapper\" id=\"main-chat-wrapper\" style={{backgroundPosition: 'center', backgroundSize: 'cover', backgroundRepeat: 'no-repeat', backgroundImage: this.props.user.chatBg && this.props.user.chatBg.url ? `url(${this.props.user.chatBg.url})` : 'url()'}}>\n                {Object.keys(this.props.activeChat).length ? <div className=\"messages\" id=\"messages\">\n                    {this.props.activeChat.messages.map((message, idx) => (\n                        <div className={message.sentFromId === this.props.user._id ? 'message my-message' : 'message them-message'} key={idx}>\n                            <div>{message.message}</div>\n                            <div>{date(message.createdAt)}</div>\n                        </div>\n                    ))}\n                </div> : ''}\n                <div onClick={this.showSidebar} className=\"go-back\" style={{backgroundColor: 'rgba(255, 255, 255, 0.80)'}}>\n                    <ArrowBackIcon style={{fontSize: '2.2em'}}/>\n                </div>\n                <div id=\"chat-box\" className=\"text-input\" ref={this.anchorRef}>\n                    <input onKeyUp={this.sendMessage} value={this.state.inputVal} onChange={(e) => this.setState({inputVal: e.target.value})} type=\"text\"  placeholder=\"Send a message\" />\n                    <SendIcon onClick={this.sendMessage} className=\"send-icon\" />\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport axios from 'axios';\nimport auth from '../../Helpers/auth';\nimport {NavLink} from \"react-router-dom\";\nimport './Settings.css';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport MessagePopup from \"../Common/MessagePopup\";\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\n\nconst fileTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/pdf'];\n\nexport default class Settings extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: {},\n            inputVal: '',\n            fileInput: '',\n            fileInputBg: '',\n            previewSource: '',\n            previewSourceBg: '',\n            message: '',\n            isUploading: false,\n            showPopup: false\n        }\n    }\n\n    handleFileInputChange = (e, type) => {\n        const file = e.target.files[0];\n        if(!fileTypes.includes(file.type)) {\n            this.setState({\n                message: 'Must be either jpg, pdf, or png'\n            })\n        } else {\n            this.setState({\n                message: ''\n            })\n            this.previewFile(file, type);\n        }\n    }\n\n    previewFile = (file, type) => {\n        if(file.size > 10000000) {\n            this.setState({message: 'File size too big'});\n            return;\n        }\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onloadend = () => {\n            this.setState({ [type === 'avatar' ? 'previewSource' : 'previewSourceBg']: reader.result });\n        }\n    }\n\n    handleSubmitFile = (e, type) => {\n        e.preventDefault();\n        if(type === 'avatar') {\n            if(this.state.isUploading || (this.state.message.length > 0 || this.state.messages === 'Success') || !this.state.previewSource || Object.keys(this.state.user) < 1) return;\n\n            this.setState({isUploading: true});\n            axios.post('/api/users/upload-image', JSON.stringify({\n                data: this.state.previewSource, _id: this.state.user._id\n            })).then((res) => {\n                this.setState({isUploading: false});\n                if(res.data && res.data.message) {\n                    this.setState({\n                        message: res.data.message,\n                        fileInput: '',\n                        previewSource: '',\n                        showPopup: true\n                    });\n                } else {\n                    this.setState({\n                        fileInput: '',\n                        previewSource: '',\n                        message: 'Success',\n                        showPopup: true\n                    })\n                }\n                setTimeout(() => {\n                    this.setUser();\n                }, 200);\n                setTimeout(() => {\n                    this.setState({showPopup: false, message: ''});\n                },2000);\n            }).catch(() => {\n                this.setState({showPopup: true, message: 'Something went wrong uploading image', isUploading: false})\n            })\n        } else {\n            if(this.state.isUploading || (this.state.message.length > 0 || this.state.messages === 'Success') || !this.state.previewSourceBg || Object.keys(this.state.user) < 1) return;\n\n            this.setState({isUploading: true});\n            axios.post('/api/chat/upload-bg-image', JSON.stringify({\n                data: this.state.previewSourceBg, _id: this.state.user._id\n            })).then(res => {\n                this.setState({isUploading: false});\n                if(res.data && res.data.message) {\n                    this.setState({\n                        message: res.data.message,\n                        fileInputBg: '',\n                        previewSourceBg: '',\n                        showPopup: true\n                    });\n                } else {\n                    this.setState({\n                        message: 'Success',\n                        fileInputBg: '',\n                        previewSource: '',\n                        showPopup: true\n                    });\n                }\n                setTimeout(() => {\n                    this.setUser();\n                }, 200);\n                setTimeout(() => {\n                    this.setState({showPopup: false, message: ''});\n                },2000);\n            })\n        }\n    }\n\n    setUser = () => {\n        auth('GET_USER').then(user => {\n            if(user) {\n                this.setState({\n                    user,\n                    inputVal: user.firstName\n                })\n            } else {\n                this.props.history.push('/sign-in');\n            }\n        })\n    }\n\n    componentDidMount() {\n        this.setUser();\n    }\n\n    render(){\n        return (\n            <div className=\"settings-wrapper\">\n                <MessagePopup model={this.state.isUploading} noBg={true} >\n                    <AutorenewIcon className=\"loading\" />\n                </MessagePopup>\n                <MessagePopup model={this.state.showPopup}>\n                    <div style={{padding: '10px 20px', fontSize: '1.5em', borderRadius: '8px'}}>{this.state.message}</div>\n                </MessagePopup>\n                <NavLink to=\"/chat\"><ArrowBackIcon className=\"back\" /></NavLink>\n                <div className=\"header\">\n                    <div>My Profile</div>\n                    <NavLink to=\"/my-images\"><button className=\"image-btn\" style={{border: 'none', fontSize: '.5em'}}>View all my images</button></NavLink>\n                </div>\n                <div className=\"cards\">\n\n                    <div className=\"left\">\n                        <div className=\"img-uploader\">\n                            <div>Upload Avatar Image</div>\n                            <div className=\"upload-box\">\n                                <input onChange={(e) => this.handleFileInputChange(e, 'avatar')} type=\"file\" />\n                            </div>\n                            <div style={{color: this.state.message === 'Success' ? 'green' : 'red', fontSize: '.8em', margin: '20px 0'}}>{ this.state.message }</div>\n                            <button className=\"image-btn\" style={{marginTop: '20px'}} onClick={(e) => this.handleSubmitFile(e, 'avatar')}>Save</button>\n                        </div>\n                        {this.state.previewSource ?\n                            <img className=\"display-image\" src={this.state.previewSource} />\n                            : (this.state.user.avatar && this.state.user.avatar.url ? <img style={{borderRadius: '50%', objectFit: 'cover', margin: '20px auto 0 25px', width: '25vw', height: '25vw'}} className=\"display-image\" src={this.state.user.avatar.url} />  : <img className=\"display-image\" src={this.state.previewSource} /> )}\n\n                    </div>\n\n                    <div className=\"right\">\n                        <div>\n                            <div>Change First Name</div>\n                            <input onChange={e => this.setState({inputVal: e.target.value})} type=\"text\" placeholder=\"Change first name\" value={this.state.inputVal} />\n                        </div>\n                        <div className=\"button-wrapper\">\n                            <button className=\"image-btn\" style={{marginTop: '20px'}}>Save</button>\n                        </div>\n                        <div className=\"img-uploader prof\">\n                            <div>Upload Image For Chat Background (optional)</div>\n                            <div className=\"upload-box\">\n                                <input onChange={(e) => this.handleFileInputChange(e, 'bg')} type=\"file\" />\n                            </div>\n                            <div style={{color: this.state.message === 'Success' ? 'green' : 'red', fontSize: '.8em', margin: '20px 0'}}>{ this.state.message }</div>\n                            <button className=\"image-btn\" style={{marginTop: '20px'}} onClick={(e) => this.handleSubmitFile(e, 'bg')}>Save</button>\n                        </div>\n                        {this.state.previewSourceBg ?\n                            <img className=\"display-image\" src={this.state.previewSourceBg} />\n                            : (this.state.user.chatBg ? <img style={{ objectFit: 'cover', margin: '20px auto 0 25px', width: '25vw', height: '25vw'}} className=\"display-image\" src={this.state.user.chatBg.url} />  : <img className=\"display-image\" src={this.state.previewSourceBg} /> )}\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport auth from '../../Helpers/auth.js';\nimport './MyImages.css';\nimport {NavLink} from 'react-router-dom';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport MessagePopup from '../Common/MessagePopup';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport axios from 'axios';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nexport default class MyImages extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: null,\n            deletePopup: false,\n            addBgImagePopup: false,\n            addAvatarPopup: false,\n            selectedImg: '',\n            message: '',\n            showMessage: false\n        }\n    }\n\n    componentDidMount() {\n        this.getUser();\n    }\n\n    getUser = () => {\n        auth('GET_USER').then(user => {\n            if(user) {\n                this.setState({user})\n            } else {\n                this.props.history.push('/sign-in');\n            }\n        })\n    }\n\n    setUserAvatar = (type) => {\n        console.log(this.state.selectedImg);\n        axios.post('/api/users/set-avatar', {userId: this.state.user._id, publicId: this.state.selectedImg.publicId, url: this.state.selectedImg.url, type: type}).then(res => {\n            this.setState({\n                showMessage: true,\n                message: res.data.message\n            })\n        }).catch(() => {\n            this.setState({\n                showMessage: true,\n                message: 'Something went wrong, try again'\n            })\n        })\n        setTimeout(() => {\n            this.setState({\n                message: '',\n                showMessage: false,\n                addAvatarPopup: false,\n                addBgImagePopup: false\n            })\n        }, 2200);\n    }\n\n    removeImage = () => {\n        axios.post('/api/users/remove-image', {userId: this.state.user._id, publicId: this.state.selectedImg.publicId, url: this.state.selectedImg.url}).then(res => {\n            this.setState({\n                showMessage: true,\n                message: res.data.message\n            })\n            this.getUser();\n        }).catch(() => {\n            this.setState({\n                showMessage: true,\n                message: 'Something went wrong, try again'\n            })\n        })\n        setTimeout(() => {\n            this.setState({\n                message: '',\n                showMessage: false,\n                deletePopup: false,\n            })\n        }, 2200);\n    }\n\n    render(){\n        let ht = '';\n        if(this.state.user && this.state.user.images.length === 0) {\n            ht = `<div>You have no images uploaded yet</div>`\n        }\n        return (\n            <div className=\"my-images\">\n                <NavLink to=\"/settings\"><ArrowBackIcon className=\"back-icon\"/></NavLink>\n                <div className=\"header\">My Images</div>\n                <div className=\"images\">\n                    {this.state.user ? this.state.user.images.map((image, idx) => (\n                        <div className=\"my-image\" key={idx}>\n                            <img src={image.url} />\n                            <div className=\"actions\">\n                                <CloseIcon onClick={() => this.setState({deletePopup: true, selectedImg: image})} className=\"delete\"/>\n                                <ChatIcon onClick={() => this.setState({addBgImagePopup: true, selectedImg: image})} style={{cursor: 'pointer'}}/>\n                                <AccountCircleIcon onClick={() => this.setState({addAvatarPopup: true, selectedImg: image})} className=\"account\" />\n                            </div>\n                        </div>\n                    )) : 'Not signed in'}\n                </div>\n                <div style={{textAlign: 'center', fontSize: '1.5em', marginTop: '30px'}} dangerouslySetInnerHTML={{ __html: ht }}></div>\n\n                <MessagePopup model={this.state.deletePopup}>\n                    <div className=\"confirm-delete\">\n                        <div>Are you sure you wish to delete this image?</div>\n                        <div className=\"buttons\">\n                            <button onClick={() => this.setState({deletePopup: false})}>Cancel</button>\n                            <button onClick={() => this.removeImage()}>Confirm</button>\n                        </div>\n                    </div>\n                </MessagePopup>\n\n                <MessagePopup model={this.state.addBgImagePopup}>\n                    <div className=\"confirm-delete\">\n                        <div>Do you want to set this as your background image?</div>\n                        <div className=\"buttons\">\n                            <button onClick={() => this.setState({addBgImagePopup: false})}>Cancel</button>\n                            <button onClick={() => this.setUserAvatar('chatBg')}>Confirm</button>\n                        </div>\n                    </div>\n                </MessagePopup>\n\n                <MessagePopup model={this.state.addAvatarPopup}>\n                    <div className=\"confirm-delete\">\n                        <div>Do you want to set this as your avatar?</div>\n                        <div className=\"buttons\">\n                            <button onClick={() => this.setState({addAvatarPopup: false})}>Cancel</button>\n                            <button onClick={() => this.setUserAvatar('avatar')}>Confirm</button>\n                        </div>\n                    </div>\n                </MessagePopup>\n\n                <MessagePopup model={this.state.showMessage} zIndex={'25'}>\n                    <div style={{padding: '10px', fontSize: '1.5em', fontWeight: '500'}}>\n                        { this.state.message }\n                    </div>\n                </MessagePopup>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport { HashRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport SignIn from './Components/Auth/SignIn/SignIn';\nimport Chat from \"./Components/Chat/Chat\";\nimport Settings from \"./Components/Settings/Settings\";\nimport MyImages from \"./Components/MyImages/MyImages\";\nimport auth from './Helpers/auth';\nimport axios from 'axios';\n\nclass App extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            user: null\n        }\n    }\n\n    componentDidMount() {\n        auth('GET_USER').then(user => {\n            if(user) {\n                this.setState({user})\n            }\n        })\n    }\n\n    componentWillUnmount() {\n        if(!this.state.user) return;\n        axios.post('/api/users/set-inactive', {userId: this.state.user._id}).then((res) => {\n            console.log(res);\n        })\n    }\n\n    render(){\n      return (\n          <div className=\"app\">\n            <Router>\n                <Switch>\n                    <Route exact path=\"/\">\n                        <Redirect to=\"/chat\" />\n                    </Route>\n                    <Route exact path=\"/sign-in\" component={SignIn} />\n                    <Route path=\"/my-images\" component={MyImages} />\n                    <Route path=\"/chat\" component={Chat} />\n                    <Route path=\"/settings\" component={Settings} />\n                    <Route render={() => <div>404</div>}/>\n                </Switch>\n            </Router>\n          </div>\n      )\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport axios from 'axios';\n\nlet url = 'https://calebjustice.com:9000';\n// let url = 'http://149.28.14.146:9000';\n\naxios.defaults.baseURL = url;\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.headers.common['Authorization'] = localStorage.getItem('JWT_PAYLOAD');\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}